<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Idds__Dd (idds.Idds__Dd)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">idds</a> &#x00BB; Idds__Dd</nav><h1>Module <code>Idds__Dd</code></h1><p>Decision Diagrams (DDs).</p><p>This module serves as the base for the BDD and IDD modules. It provides hash-consed decision trees, but does not enforce any structural invariants on these trees beyond guranteeing that structural equality coincides with physical equality.</p><p>A decision diagram (DD) is a finite binary tree whose leaves are labeled with the constants true or false, and whose branches are labeled with boolean variables. Each branch has two subtrees <code>hi</code> and <code>lo</code> for the cases that the variable is true or false, respectively.</p><p>Given an assignment of booleans to the variables, one can evaluate such a tree in the following way:</p><ul><li>If the tree is a leaf, return its boolean label.</li><li><p>If the tree is a branch labeled with the variable <code>x</code>, recursively evaluate</p><ul><li>the subtree <code>hi</code> if <code>x = true</code>, or</li><li>the subtree <code>lo</code> if <code>x = false</code>.</li></ul></li></ul><p>The module enforces a <b>key invariant</b>: If <code>u : t</code> and <code>v : t</code> were constructed using the same manager, then <code>id u = id v</code> if and only if <code>u</code> and <code>v</code> are structurally equal (ignoring IDs). In other words, all DDs built using the same manager are <a href="https://en.wikipedia.org/wiki/Hash_consing">hash consed</a>.</p><nav class="toc"><ul><li><a href="#types">Types</a></li><li><a href="#manager">Manager</a></li><li><a href="#constructors">Constructors</a></li><li><a href="#generic-operations-on-dds">Generic operations on DDs</a></li><li><a href="#low-level-api">Low-level API</a></li></ul></nav></header><section><header><h3 id="types"><a href="#types" class="anchor"></a>Types</h3></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <span class="keyword">private</span> </code><table class="variant"><tr id="type-t.True" class="anchored"><td class="def constructor"><a href="#type-t.True" class="anchor"></a><code>| </code><code><span class="constructor">True</span></code></td></tr><tr id="type-t.False" class="anchored"><td class="def constructor"><a href="#type-t.False" class="anchor"></a><code>| </code><code><span class="constructor">False</span></code></td></tr><tr id="type-t.Branch" class="anchored"><td class="def constructor"><a href="#type-t.Branch" class="anchor"></a><code>| </code><code><span class="constructor">Branch</span> <span class="keyword">of</span> </code><code>{</code><table class="record"><tr id="type-t.var" class="anchored"><td class="def field"><a href="#type-t.var" class="anchor"></a><code>var : <a href="../Idds/Var/index.html#type-t">Idds.Var.t</a>;</code></td><td class="doc"><p>the variable on which to branch</p></td></tr><tr id="type-t.hi" class="anchored"><td class="def field"><a href="#type-t.hi" class="anchor"></a><code>hi : <a href="index.html#type-t">t</a>;</code></td><td class="doc"><p>subdiagram for case <code>var = true</code></p></td></tr><tr id="type-t.lo" class="anchored"><td class="def field"><a href="#type-t.lo" class="anchor"></a><code>lo : <a href="index.html#type-t">t</a>;</code></td><td class="doc"><p>subdiagramm for case <code>var = false</code></p></td></tr><tr id="type-t.id" class="anchored"><td class="def field"><a href="#type-t.id" class="anchor"></a><code>id : Base.int;</code></td><td class="doc"><p>unique identifier for this diagram</p></td></tr></table><code>}</code></td></tr></table></dt><dd><p>The type of a decision diagram (DD).</p></dd></dl></section><section><header><h3 id="manager"><a href="#manager" class="anchor"></a>Manager</h3></header><dl><dt class="spec type" id="type-manager"><a href="#type-manager" class="anchor"></a><code><span class="keyword">type</span> manager</code></dt><dd><p>A DD manager <code>mgr : manager</code> encapsulates all state required for DD construction. In particular, it is required by the <code>branch</code> function to allocate unique identifiers for each DD.</p></dd></dl><dl><dt class="spec value" id="val-manager"><a href="#val-manager" class="anchor"></a><code><span class="keyword">val</span> manager : Base.unit <span>&#45;&gt;</span> <a href="index.html#type-manager">manager</a></code></dt><dd><p>Initialize a fresh manager</p></dd></dl></section><section><header><h3 id="constructors"><a href="#constructors" class="anchor"></a>Constructors</h3></header><dl><dt class="spec value" id="val-cfalse"><a href="#val-cfalse" class="anchor"></a><code><span class="keyword">val</span> cfalse : <a href="index.html#type-t">t</a></code></dt><dd><p>The constant false.</p></dd></dl><dl><dt class="spec value" id="val-ctrue"><a href="#val-ctrue" class="anchor"></a><code><span class="keyword">val</span> ctrue : <a href="index.html#type-t">t</a></code></dt><dd><p>The constant true.</p></dd></dl><dl><dt class="spec value" id="val-branch"><a href="#val-branch" class="anchor"></a><code><span class="keyword">val</span> branch : <a href="index.html#type-manager">manager</a> <span>&#45;&gt;</span> <a href="../Idds/Var/index.html#type-t">Idds.Var.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>branch mgr var hi lo</code> is the diagram that behaves like <code>hi</code> when <code>var = true</code>, and like <code>lo</code> when <code>var = false</code>.</p></dd></dl></section><section><header><h3 id="generic-operations-on-dds"><a href="#generic-operations-on-dds" class="anchor"></a>Generic operations on DDs</h3></header><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Base.bool</code></dt><dd><p>O(1) structural equality.</p><p><b>PRECONDITION</b>: The result of <code>equal u v</code> is only defined when <code>u</code> and <code>v</code> were built using the same manager. Otherwise, the result is arbitrary.</p></dd></dl><dl><dt class="spec value" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : <span>?&#8288;var_name:<span>(<a href="../Idds/Var/index.html#type-t">Idds.Var.t</a> <span>&#45;&gt;</span> Base.string)</span></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Base.string</code></dt><dt class="spec value" id="val-render"><a href="#val-render" class="anchor"></a><code><span class="keyword">val</span> render : <span>?&#8288;var_name:<span>(<a href="../Idds/Var/index.html#type-t">Idds.Var.t</a> <span>&#45;&gt;</span> Base.string)</span></span> <span>&#45;&gt;</span> <span>?&#8288;format:Base.string</span> <span>&#45;&gt;</span> <span>?&#8288;title:Base.string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Base.unit</code></dt></dl></section><section><header><h3 id="low-level-api"><a href="#low-level-api" class="anchor"></a>Low-level API</h3></header><dl><dt class="spec value" id="val-id"><a href="#val-id" class="anchor"></a><code><span class="keyword">val</span> id : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Base.int</code></dt><dd><p><code>id u</code> is an integer that is guranteed to be unique to the the diagram <code>u</code>. In particular, the following invariant holds whenever <code>u</code> and <code>v</code> were constructed using the same manager: <code>id u = id v</code> iff the trees <code>u</code> and <code>v</code> are structurally equal (ignoring IDs). Thus, one can use the IDs to test for equality in O(1). IDs are also useful for memoizing functions on DDs.</p></dd></dl><dl><dt class="spec value" id="val-index"><a href="#val-index" class="anchor"></a><code><span class="keyword">val</span> index : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Base.int</code></dt><dd><p>The index of a diagram is the index of its top-most variable, or -1 if the diagram is a leaf.</p></dd></dl></section></div></body></html>